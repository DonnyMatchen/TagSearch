block variables
doctype html
html
    -
        var navItems = [
            {
                0: ['Home', ''],
                1: ['Search', '/search'],
                2: ['Tags', '/search/tags'],
                3: ['Tag Types', '/search/tagTypes']
            },
            {
                4: ['New Item', '/post/item'],
                5: ['New Tag', '/post/tag']
            },
            {
                6: ['New TagType', '/post/tagType'],
                7: ['Manage Users', '/userCenter'],
                8: ['New User', '/post/user']
            }
        ]
    -level = user != undefined ? user.role : '0';
    head
        meta(charset='utf-8')
        meta(name="viewport" content="width=device-width, initial-scale=1")
        link(rel='shortcut icon', href='/favicon.ico')
        link(rel="stylesheet", type='text/css', href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css")
        script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")
        link(rel='stylesheet', type='text/css', href='/css/main.css')
        meta(name='viewport', content='width=device-width, initial-scale=1, shrink-to-fit=no')
        title= `${title} | Tag Search`
    body.bg-color
        header.container-fluid.hd-color.pt-4.pb-3.mb-3
            h1.pb-4.text-center.bg-item Tag Search
            div.row.mt-3.mb-3
                div.col-sm-2
                div.col-sm-8.row.align-items-center
                    div.col-sm-3.text-end
                        span.bg-item Search
                    div.col-sm-6
                        input.width-full.field.form-control(type='text' name='search', value=search)
                    div.col-sm-3
                        button.btn.gd-color(onclick=`window.location.href='${baseURL}/search?tags='+document.getElementById('searchBar').value.replace(' ', '+');`) Go
                div.col-sm-2
            nav.row
                div.col-sm-9.row
                    each group, security in navItems
                        div.col-sm-4.text-center
                            each pair, index in group
                                -if(index != webPage)
                                    -if(security <= +level)
                                        a.btn.m-1.ct-color(href=`${baseURL}${pair[1]}`)= pair[0]
                                -else
                                    -if(security <= +level)
                                        span.btn.m-1.btn-selected.bg-item= pair[0]
                div.col-sm-3.text-end
                    -if(user == undefined)
                        -if(webPage == 101)
                            span.btn.m-1.btn-selected.bg-item Login
                        -else
                            a.btn.m-1.gd-color(href=`${baseURL}/login`) Log In
                    -else
                        span.btn.m-1.btn-selected.bg-item= user.username
                        -if(webPage == 102)
                            span.btn.m-1.btn-selected.bg-item Change Password
                        -else
                            a.btn.m-1.ct-color(href=`${baseURL}/login/change`) Change Password
                        a.btn.m-1.er-color(href=`${baseURL}/logout`) Log Out
        div.bg-item
            each error in errors
                div.er-color.p-3.mb-2.text-center= error
            each success in successes
                div.gd-color.p-3.text-center= success
            each message in messages
                div.ms-color.p-3.text-center= message
        h3.text-center.mb-3= legend
        block layout-content
        -if(pages.active)
            -if(pages.pageNumber <= 0)
                -pages.pageNumber = 1
            -if(pages.pageCount <= 0)
                -pages.pageCount = 1
            div.mt-3.text-center
                -if(pages.pageNumber != 1)
                    a.ml-2.mr-2.btn.ct-color(href=`${pages.pageURL}${1}`)= '<<'
                    a.ml-2.mr-2.btn.ct-color(href=`${pages.pageURL}${pages.pageNumber - 1}`)= '<'
                -if(pages.pageCount <= 10)
                    -i = 1;
                    while i <= pages.pageCount
                        -if(i == pages.pageNumber)
                            span.ml-2.mr-2.btn.btn-selected.bg-item= i++
                        -else
                            -n = i++;
                            a.ml-2.mr-2.btn.ct-color(href=`${pages.pageURL}${n}`)= n
                -else
                    -if(pages.pageNumber <= 5)
                        -i = 1;
                    -else
                        -i = pages.pageNumber - 5
                    -if(pages.pageNumber >= pages.pageCount - 5)
                        -t = pages.pageCount
                    -else
                        -t = pages.pageNumber + 5
                    while i <= t
                        -if(i == pages.pageNumber)
                            span.ml-2.mr-2.btn.btn-selected.bg-item= i++
                        -else
                            -n = i++;
                            a.ml-2.mr-2.btn.ct-color(href=`${pages.pageURL}${n}`)= n
                -if(pages.pageNumber != pages.pageCount)
                    a.ml-2.mr-2.btn.ct-color(href=`${pages.pageURL}${pages.pageNumber + 1}`)= '>'
                    a.ml-2.mr-2.btn.ct-color(href=`${pages.pageURL}${pages.pageCount}`)= '>>'